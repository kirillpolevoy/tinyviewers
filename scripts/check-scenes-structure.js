import { createClient } from "@supabase/supabase-js"; import dotenv from "dotenv"; import path from "path"; import { fileURLToPath } from "url"; const __filename = fileURLToPath(import.meta.url); const __dirname = path.dirname(__filename); dotenv.config({ path: path.join(__dirname, "..", ".env.local") }); const supabase = createClient(process.env.NEXT_PUBLIC_SUPABASE_URL, process.env.SUPABASE_SERVICE_ROLE_KEY); console.log("🔍 CHECKING ACTUAL SCENES TABLE STRUCTURE"); console.log("========================================="); const { data: scenes, error } = await supabase.from("scenes").select("*").limit(5); if (error) { console.error("Error:", error); process.exit(1); } console.log("📊 Sample scenes data:"); console.log(JSON.stringify(scenes, null, 2)); if (scenes.length > 0) { console.log("\n🔑 Available columns:"); console.log(Object.keys(scenes[0]).join(", ")); } console.log(`\n📈 Total scenes in database: ${scenes.length}`);
